{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/crafting-corner/src/app/products/%5Bslug%5D/page.tsx"],"sourcesContent":["\n\n/* --------------------------------------------------------------------------\n   Product details page  ▸  /products/[slug]\n   – Fully‑static, generated at build‑time (dynamicParams = false)\n   – Elegant hero image, smooth Framer‑Motion entrance\n   – Secondary gallery, related products shelf\n   – Floating WhatsApp CTA pre‑filled with product title\n--------------------------------------------------------------------------- */\n\nimport { Metadata } from 'next';\nimport { notFound } from 'next/navigation';\nimport Image from 'next/image';\nimport { MotionConfig, motion } from 'framer-motion';\n\nimport FloatingWhatsapp from '../../../components/FloatingWhatsapp';\nimport ProductCard from '../../../components/ProductCard';\n\nimport {\n  allCategories,\n  loadProducts,\n  type Product,\n} from '../../../lib/loaders';\n\n// ──────────────────────────────────────────────────────────────────────────────\n// Static‑site helpers\n// ──────────────────────────────────────────────────────────────────────────────\n\n/** Pre‑build a page for every product JSON record (SSG only). */\nexport const dynamicParams = false;\nexport async function generateStaticParams() {\n  const params: { slug: string }[] = [];\n\n  for (const cat of allCategories) {\n    const products = await loadProducts(cat.slug);\n    products.forEach((p) => params.push({ slug: p.slug }));\n  }\n\n  return params;\n}\n\n/** <title>, meta description and OG image for each product. */\nexport async function generateMetadata({\n  params,\n}: {\n  params: { slug: string };\n}): Promise<Metadata> {\n  const product = await findProduct(params.slug);\n  if (!product) return {};\n\n  const mainImg =\n    typeof product.img === 'string' ? product.img : product.img[0];\n\n  return {\n    title: `${product.title} | Crafting Corner`,\n    description:\n      product.description ??\n      `Premium ${product.title} crafted for modern Indian homes.`,\n    openGraph: {\n      images: [mainImg],\n    },\n  };\n}\n\n/** Helper to locate a product by slug across all category JSON files. */\nasync function findProduct(slug: string): Promise<Product | null> {\n  for (const cat of allCategories) {\n    const products = await loadProducts(cat.slug);\n    const found = products.find((p) => p.slug === slug);\n    if (found) return found;\n  }\n  return null;\n}\n\n// ──────────────────────────────────────────────────────────────────────────────\n// Page component\n// ──────────────────────────────────────────────────────────────────────────────\nexport default async function ProductPage({\n  params,\n}: {\n  params: { slug: string };\n}) {\n  const product = await findProduct(params.slug);\n  if (!product) notFound();\n\n  // ensure gallery is an array\n  const gallery = Array.isArray(product.img) ? product.img : [product.img];\n\n  // pull up to three \"related\" items from the same category\n  const categoryProducts = await loadProducts(product.category);\n  const related = categoryProducts\n    .filter((p) => p.slug !== product.slug)\n    .slice(0, 3);\n\n  return (\n    <MotionConfig transition={{ duration: 0.5, ease: 'easeOut' }}>\n      <motion.main\n        initial={{ opacity: 0, y: 24 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"pb-32\"\n      >\n        {/* ── Hero / main gallery image ─────────────────────────── */}\n        <section className=\"relative mx-auto mb-12 grid max-w-6xl gap-6 px-4 lg:grid-cols-2\">\n          {/* Image */}\n          <motion.figure\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            className=\"overflow-hidden rounded-2xl bg-walnut/5\"\n          >\n            <Image\n              src={gallery[0]}\n              alt={product.title}\n              width={900}\n              height={700}\n              className=\"h-full w-full object-cover object-center\"\n              priority\n            />\n          </motion.figure>\n\n          {/* Details */}\n          <motion.div\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            className=\"flex flex-col justify-center space-y-6\"\n          >\n            <h1 className=\"font-display text-4xl font-semibold text-walnut\">\n              {product.title}\n            </h1>\n\n            <span className=\"inline-block w-max rounded-full bg-walnut/10 px-4 py-1.5 font-medium tracking-wide text-walnut\">\n              ₹{product.price.toLocaleString('en-IN')}\n            </span>\n\n            {product.description && (\n              <p className=\"leading-relaxed text-charcoal/90\">\n                {product.description}\n              </p>\n            )}\n\n            {product.tags?.length && (\n              <ul className=\"flex flex-wrap gap-2\">\n                {product.tags.map((tag) => (\n                  <li\n                    key={tag}\n                    className=\"rounded bg-charcoal/5 px-3 py-1 text-sm text-charcoal/80\"\n                  >\n                    {tag}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </motion.div>\n        </section>\n\n        {/* ── Thumbnail gallery (if multiple images) ─────────────── */}\n        {gallery.length > 1 && (\n          <section className=\"mx-auto mb-20 grid max-w-5xl grid-cols-2 gap-4 px-4 md:grid-cols-3\">\n            {gallery.slice(1).map((img, i) => (\n              <motion.div\n                key={img}\n                initial={{ opacity: 0, scale: 0.95 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ delay: (i + 1) * 0.05 }}\n                className=\"overflow-hidden rounded-xl bg-walnut/5\"\n              >\n                <Image\n                  src={img}\n                  alt={`${product.title} alternate view ${i + 1}`}\n                  width={600}\n                  height={500}\n                  className=\"h-full w-full object-cover object-center\"\n                />\n              </motion.div>\n            ))}\n          </section>\n        )}\n\n        {/* ── Related products shelf ─────────────────────────────── */}\n        {related.length > 0 && (\n          <section className=\"mx-auto max-w-6xl px-4\">\n            <h2 className=\"mb-6 font-display text-2xl font-semibold text-walnut\">\n              You may also like\n            </h2>\n\n            <div className=\"grid grid-cols-[repeat(auto-fill,minmax(260px,1fr))] gap-8\">\n              {related.map((p) => (\n                <ProductCard key={p.slug} {...p} />\n              ))}\n            </div>\n          </section>\n        )}\n\n        {/* ── WhatsApp floating CTA ──────────────────────────────── */}\n        <FloatingWhatsapp\n          phone=\"+919999999999\"\n          message={`Hi! I'm interested in the ${product.title}. Could you tell me more?`}\n        />\n      </motion.main>\n    </MotionConfig>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/crafting-corner/node_modules/.pnpm/next%4015.0.3_react-dom%4018.2.0_react%4018.2.0__react%4018.2.0/node_modules/next/dist/src/build/templates/app-page.ts"],"sourcesContent":["import type { LoaderTree } from '../../server/lib/app-dir-module'\nimport { AppPageRouteModule } from '../../server/route-modules/app-page/module.compiled' with { 'turbopack-transition': 'next-ssr' }\nimport { RouteKind } from '../../server/route-kind'\n\n// These are injected by the loader afterwards.\n\n/**\n * The tree created in next-app-loader that holds component segments and modules\n * and I've updated it.\n */\ndeclare const tree: LoaderTree\ndeclare const pages: any\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\n// INJECT:tree\n// INJECT:pages\n\nexport { tree, pages }\n\nexport { default as GlobalError } from 'VAR_MODULE_GLOBAL_ERROR'\n\n// These are injected by the loader afterwards.\ndeclare const __next_app_require__: any\ndeclare const __next_app_load_chunk__: any\n\n// INJECT:__next_app_require__\n// INJECT:__next_app_load_chunk__\n\nexport const __next_app__ = {\n  require: __next_app_require__,\n  loadChunk: __next_app_load_chunk__,\n}\n\nexport * from '../../server/app-render/entry-base'\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n  definition: {\n    kind: RouteKind.APP_PAGE,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n    appPaths: [],\n  },\n  userland: {\n    loaderTree: tree,\n  },\n})\n"],"names":["AppPageRouteModule","RouteKind","tree","pages","default","GlobalError","__next_app__","require","__next_app_require__","loadChunk","__next_app_load_chunk__","routeModule","definition","kind","APP_PAGE","page","pathname","bundlePath","filename","appPaths","userland","loaderTree"],"mappings":";;;;;;AAaA,yEAAyE;AAZzE,SAASA,kBAAkB,QAAQ,2DAA2D;AAAqC,EAAC;AAcpI,cAAc;AAKd,SAASI,WAAWC,WAAW,QAAQ,0BAAyB;;;;;;AAMhE,8BAA8B,2CAAA;AAC9B,UAAA,uBAAiC;AAEjC,MAAA,CAAO,MAAMC;IAAAA;IAAAA,UAAe;YAC1BC,QAAAA;YAASC;YAAAA;oBACTC,QAAAA;oBAAAA,EAAWC;oBAAAA;wBACb,EAAC,UAAA;4BAAA;4BAAA,CAED;4BAAA,WAAc,qCAAoC;gCAElD,UAAA,CAAA;gCAAA,QAAA;oCAAA,IAAA,0BAA4D;oCAAA;iCAAA;4BAC5D;yBAAA,KAAO,MAAMC,cAAc,IAAIX,mBAAmB;;qBAChDY,YAAY;8BACVC,IAAAA,CAAMZ,CAAAA;oBAAAA;iBAAAA,KAAUa,QAAQ;;iBACxBC,MAAM;sBACNC,IAAAA,CAAAA;YAAAA,CAAU;SAAA;;SACV,2CAA2C;cAC3CC,IAAAA;YAAAA,IAAAA,CAAY;YAAA;SAAA;cACZC,OAAAA;YAAAA,EAAU,EAAA;YAAA;SAAA;;OACVC,UAAU,EAAE;IACd,EAAA,QAAA;IAAA;CAAA;;;IAGA,EAAA,uBAAA;AACF,GAAE,GAAA,0BAAA","ignoreList":[0]}},
    {"offset": {"line": 378, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}